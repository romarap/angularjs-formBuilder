<script type="text/javascript">
    $("[data-toggle=popover]").popover({
        html: true,
        content: function () {
            return $('#form-help-content').html();
        }
    });
</script>

<div class="formBuilder row">

    <!-- Sidebar -->
    <div class="col-md-2">
        <forms-short-list-directive selectedid="{{models.form.id}}"></forms-short-list-directive>
    </div>

    <!-- Main area with field_label and source code -->
    <div class="col-md-8">
        <div>
            <div ng-init="{{list=models.form.controls}}">
                <div class="dropzone box box-yellow">
                    <!-- The dropzone also uses the list template -->
                    <h3>
                        <label class="selectable-title" ng-click="editForm(event)">{{models.form.name}}</label>
                        <span class="tools">
                            <i class="glyphicon glyphicon-save-file" title="Save form" ng-class="{selectable: models.dirty }" ng-click="save()"></i>
                            <i class="glyphicon glyphicon-info-sign selectable" data-toggle="popover" tabindex="0" data-trigger="hover" data-placement="left" title="Form Area" data-html="true" data-container="body"></i>
                        </span>
                    </h3>
                    <div ng-include="'views/includes/partials/dropZone.html'"></div>
                </div>
            </div>
        </div>
        <ng-include src="'views/includes/partials/updatedArea.html'"></ng-include>

    </div>

    <!-- Sidebar -->
    <div class="col-md-2">
        <toolbox-directive></toolbox-directive>
        <trashcan-directive ></trashcan-directive>
        <ng-include src="'views/includes/partials/selectedItemView.html'"></ng-include>
    </div>
</div>


<!-- status dialog/message-bar -->
<div class="vertical-alignment-helper">
    <div class="modal fade message-bar">
            <div class="modal-dialog  modal-sm">
                <div class="modal-content">
                    <div class="alert alert-info" role="alert">
                        <div class="glyphicon glyphicon-info-sign"></div>
                        <div class="msg"></div>
                        <div class="alert-footer"><button class="btn btn-primary" data-dismiss="modal">OK</button></div>
                    </div>
                    <div class="modal-footer" hidden="true">
                       
                    </div>
                </div>
            </div>
    </div>
</div>


<!-- item edit dialog -->
<div class="modal fade">
    <script type="text/ng-template" id="fieldPropertiesDialog.html">
        <ng-include src="'views/includes/field-properties/fieldPropertiesDialog.html'"></ng-include>
    </script>
</div>
<div class="modal fade">
    <script type="text/ng-template" id="formPropertiesDialog.html">
        <ng-include src="'views/includes/field-properties/formPropertiesDialog.html'"></ng-include>
    </script>
</div>


<!-- form area help text-->
<div id="form-help-content" class="hide">
    <div>
        <div>Creating and updating forms:</div>
        <ul id="helplist">
            <li>Drag and drop items from the Toolbox onto the form area</li>
            <li>Delete items by dragging to the Trashcan</li>
            <li>Edit items by double clicking on the item</li>
            <li>Edit form title by clicking on the item</li>
        </ul>
    </div>
</div>